<div class="modal is-active">
    <div
        class="modal-background"
        (click)="simulationService.toggleShowLegendModal()"
        (keyup)="simulationService.toggleShowLegendModal()"
        tabindex="0"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">
                <span class="icon">
                    <fa-icon [icon]="['fas', 'info-circle']"></fa-icon>
                </span>
                <span class="p-1">
                    <b>Legend</b>
                </span>
            </p>
            <button class="delete" aria-label="close" (click)="simulationService.toggleShowLegendModal()"></button>
        </header>
        <section class="modal-card-body">
            <div class="content fixed-grid has-12-cols">
                <div class="grid">
                    <div class="cell is-col-span-12-mobile is-col-span-6">
                        <app-hr text="Nodes"></app-hr>
                        <table class="table has-text-centered">
                            <thead>
                                <tr>
                                    <th>Icon</th>
                                    <th>Meaning</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span class="icon status-1">
                                            <fa-icon [icon]="['fas', 'square-full']"></fa-icon>
                                        </span>
                                    </td>
                                    <td>Wall</td>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="icon start-icon">
                                            <fa-icon [icon]="['fas', 'square-full']"></fa-icon>
                                        </span>
                                    </td>
                                    <td>Start</td>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="icon goal-icon">
                                            <fa-icon [icon]="['fas', 'square-full']"></fa-icon>
                                        </span>
                                    </td>
                                    <td>Goal</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="cell is-col-span-12-mobile is-col-span-6">
                        <app-hr [text]="simulationService.getAlgorithmName() + ' Algorithm'"></app-hr>
                        @if (algorithmService.getStatRecords().length > 0) {
                        <table class="table has-text-centered">
                            <thead>
                                <tr>
                                    <th>Icon</th>
                                    <th>Meaning</th>
                                </tr>
                            </thead>
                            <tbody>
                                @for (stat of algorithmService.getStatRecords(); track stat) { @if (stat.type !==
                                'status-none') {
                                <tr>
                                    <td>
                                        <span class="icon" [ngClass]="stat.type">
                                            <fa-icon [icon]="['fas', 'square-full']"></fa-icon>
                                        </span>
                                    </td>
                                    <td>{{ stat.name }}</td>
                                </tr>
                                } }
                            </tbody>
                        </table>
                        } @else {
                        <span class="has-text-centered">
                            This algorithm does not use any additional node colours.
                        </span>
                        }
                    </div>
                </div>
                @if ((breakpointService.isTouch() | async) === false) {
                <div class="cell is-col-span-12">
                    <app-hr text="Available Hotkeys"></app-hr>
                    <table class="table has-text-centered">
                        <thead>
                            <tr>
                                <th>Action</th>
                                <th>Meaning</th>
                                <th>Hotkey</th>
                                <th>Action</th>
                                <th>Meaning</th>
                                <th>Hotkey</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <span class="icon">
                                        <fa-icon [icon]="['fas', 'step-backward']"></fa-icon>
                                    </span>
                                </td>
                                <td>Backward</td>
                                <td>a</td>
                                <td>
                                    <span class="icon">
                                        <fa-icon [icon]="['fas', 'step-forward']"></fa-icon>
                                    </span>
                                </td>
                                <td>Forward</td>
                                <td>d</td>
                            </tr>
                            <tr></tr>
                            <tr>
                                <td>
                                    <span class="icon">
                                        <fa-icon [icon]="['fas', 'play']"></fa-icon>
                                    </span>
                                </td>
                                <td>Play/Stop</td>
                                <td>s</td>
                                <td>
                                    <span class="icon">
                                        <fa-icon [icon]="['fas', 'redo']"></fa-icon>
                                    </span>
                                </td>
                                <td>Redo</td>
                                <td>r</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="icon">
                                        <fa-icon [icon]="['fas', 'backward']"></fa-icon>
                                    </span>
                                </td>
                                <td>Speed down</td>
                                <td>-</td>
                                <td>
                                    <span class="icon">
                                        <fa-icon [icon]="['fas', 'forward']"></fa-icon>
                                    </span>
                                </td>
                                <td>Speed up</td>
                                <td>+</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                }
            </div>
        </section>
    </div>
</div>
