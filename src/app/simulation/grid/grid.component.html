<app-stats class="box" [isMouseDown]="isMouseDown"></app-stats>
<div class="block outer-wall" [ngClass]="{'wrapper-forbidden': (simulationService.getIteration() | async) > 0}">
  <div class="game-grid"
       [ngClass]="{'game-grid-lock': (simulationService.getIteration() | async) > 0}"
       (mousedown)="isMouseDown = true"
       (mouseup)="onMouseUp()"
       (mouseleave)="onMouseUp()">
    <div *ngFor="let col of gridList; let i=index" class="game-column">
      <app-node *ngFor="let node of col; let j=index"
                [status]="node.nodeStatus"
                [is-mouse-down]="isMouseDown"
                (wasUpdated)="drawModeLogic(i, j)">
      </app-node>
    </div>
  </div>
</div>
<app-hr text="GRID CONTROL"></app-hr>
<div class="columns">
  <div class="column is-full">
    <div class="field has-addons has-addons-centered is-marginless control-button-wrapper">
      <p class="control">
        <button class="button is-outlined is-size-7-mobile"
                [ngClass]="simulationService.getDrawingMode() === 1 ? 'is-active' : ''"
                [disabled]="(this.simulationService.getIteration() | async) > 0"
                (click)="simulationService.setDrawingMode(1)">
                <span class="icon start-icon">
                  <fa-icon [icon]="['fas', 'square-full']"></fa-icon>
                </span>
          <b>Set Start</b>
        </button>
      </p>
      <p class="control">
        <button class="button is-outlined is-size-7-mobile"
                [disabled]="(this.simulationService.getIteration() | async) > 0 || !(settingsService.getAlgorithmMode() === 'pathFinding')">
                <span class="icon">
                  <fa-icon [icon]="['fas', 'balance-scale-right']"></fa-icon>
                </span>
          <b>Add weights</b>
        </button>
      </p>
      <p class="control">
        <button class="button is-outlined is-size-7-mobile"
                [disabled]="(this.simulationService.getIteration() | async) > 0"
                title="random"
                (click)="simulationService.setRandomSeed()">
        <span class="icon">
          <fa-icon [icon]="['fas', 'random']"></fa-icon>
        </span>
          <b>Random</b>
        </button>
      </p>
      <p class="control">
        <button class="button is-outlined is-size-7-mobile"
                [ngClass]="simulationService.getDrawingMode() === 2 ? 'is-active' : ''"
                [disabled]="(this.simulationService.getIteration() | async) > 0"
                (click)="simulationService.setDrawingMode(2)">
                <span class="icon goal-icon">
                  <fa-icon [icon]="['fas', 'square-full']"></fa-icon>
                </span>
          <b>Set Goal</b>
        </button>
      </p>
      <p class="control control-pulled-right">
        <button class="button is-outlined is-size-7-mobile" (click)="simulationService.setLegend()">
                <span class="icon">
                  <fa-icon [icon]="['fas', 'asterisk']"></fa-icon>
                </span>
          <b>Legend</b>
        </button>
      </p>
    </div>
  </div>
</div>
